# Configuration Template for Agentic Travel Planner
# Copy this file to application.yml and fill in the values

# OpenAI Configuration
openai:
  api-key: ${OPENAI_API_KEY:your_openai_api_key_here}
  model: ${OPENAI_MODEL:gpt-3.5-turbo}
  timeout: ${OPENAI_TIMEOUT:60}
  max-retries: ${OPENAI_MAX_RETRIES:3}
  max-tokens: ${OPENAI_MAX_TOKENS:2000}
  temperature: ${OPENAI_TEMPERATURE:0.7}

# Agent Configuration
agent:
  flight:
    max-options: ${FLIGHT_MAX_OPTIONS:5}
    timeout: ${FLIGHT_TIMEOUT:30}
  hotel:
    max-options: ${HOTEL_MAX_OPTIONS:5}
    timeout: ${HOTEL_TIMEOUT:30}
  transport:
    max-options: ${TRANSPORT_MAX_OPTIONS:5}
    timeout: ${TRANSPORT_TIMEOUT:30}
  event:
    max-options: ${EVENT_MAX_OPTIONS:10}
    timeout: ${EVENT_TIMEOUT:30}
  weather:
    timeout: ${WEATHER_TIMEOUT:30}
  question:
    max-questions: ${QUESTION_MAX_COUNT:4}
    timeout: ${QUESTION_TIMEOUT:30}
  planner:
    timeout: ${PLANNER_TIMEOUT:60}

# Security Configuration
security:
  rate-limit:
    requests-per-minute: ${RATE_LIMIT:10}
    burst-capacity: ${RATE_LIMIT_BURST:20}
  cors:
    allowed-origins: ${CORS_ORIGINS:http://localhost:8080}
    allowed-methods: ${CORS_METHODS:GET,POST,PUT,DELETE,OPTIONS}
    allowed-headers: ${CORS_HEADERS:*}
    max-age: ${CORS_MAX_AGE:3600}
  input-validation:
    max-request-size: ${MAX_REQUEST_SIZE:1MB}
    max-trip-title-length: ${MAX_TRIP_TITLE_LENGTH:200}
    max-region-length: ${MAX_REGION_LENGTH:100}
    max-notes-length: ${MAX_NOTES_LENGTH:2000}
    max-amendments-length: ${MAX_AMENDMENTS_LENGTH:1000}

# Server Configuration
server:
  port: ${SERVER_PORT:8080}
  servlet:
    context-path: ${CONTEXT_PATH:/}
  compression:
    enabled: ${COMPRESSION_ENABLED:true}
    mime-types: ${COMPRESSION_TYPES:text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json}
    min-response-size: ${COMPRESSION_MIN_SIZE:1024}

# Logging Configuration
logging:
  level:
    com.agentictravel: ${LOG_LEVEL:INFO}
    org.springframework.web: ${SPRING_LOG_LEVEL:WARN}
    org.springframework.security: ${SECURITY_LOG_LEVEL:WARN}
  pattern:
    console: ${LOG_PATTERN_CONSOLE:"%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"}
    file: ${LOG_PATTERN_FILE:"%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"}
  file:
    name: ${LOG_FILE:logs/agentic-travel.log}
    max-size: ${LOG_MAX_SIZE:10MB}
    max-history: ${LOG_MAX_HISTORY:30}

# Application Configuration
spring:
  application:
    name: agentic-travel-planner
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}
  jackson:
    default-property-inclusion: ${JACKSON_INCLUSION:non_null}
    serialization:
      write-dates-as-timestamps: ${JACKSON_TIMESTAMPS:false}
    deserialization:
      fail-on-unknown-properties: ${JACKSON_FAIL_UNKNOWN:false}

# Management/Actuator Configuration
management:
  endpoints:
    web:
      exposure:
        include: ${ACTUATOR_ENDPOINTS:health,info,metrics,prometheus}
  endpoint:
    health:
      show-details: ${HEALTH_SHOW_DETAILS:when_authorized}
  metrics:
    export:
      prometheus:
        enabled: ${PROMETHEUS_ENABLED:true}

# Cache Configuration
cache:
  questions:
    ttl: ${CACHE_QUESTIONS_TTL:3600}
    max-size: ${CACHE_QUESTIONS_SIZE:100}
  weather:
    ttl: ${CACHE_WEATHER_TTL:21600}
    max-size: ${CACHE_WEATHER_SIZE:1000}
  events:
    ttl: ${CACHE_EVENTS_TTL:86400}
    max-size: ${CACHE_EVENTS_SIZE:500}
